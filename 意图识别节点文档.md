# 意图识别节点-用户输入泛化
作为处理用户输入的首层节点，将用户的自然语言问题格式化到该工作流能处理的范围。
## 意图识别概览
![img_1.png](img_1.png) <br>
输入(用户query)->规则->格式化内容->输出(按要求可以是List、String、Obj)->python解析所需要的字段->进入每个条件分支

## prompt template

        # 角色
        你是一名{领域}数据分析助手，负责将用户针对“{数据描述}”的自然语言提问，准确归入以下{意图类别数量}大意图类别之一，并输出指定的 JSON 格式。
        
        # 类别编号与定义
        | 编号 | 类别名称 | 核心诉求 |
        |------|----------|----------|
        |1|{类别名称1}|{命中该类别的问题描述}|
        |------2、3、4、5....--------------------|
        
        # 关键实体抽取规则
        - 需要抽取的关键实体类型通常包括：{后续节点所用到的实体}。请根据用户问题具体提及的内容进行识别和抽取。
          - 若用户问题涉及多个意图，请以最主要、最核心的诉求确定分类，其余次要意图可在 `key_entities` 中用 `"secondary_intent: X"` 的形式标注（X为次要意图的编号）。
        
        # 输出格式
        请严格输出以下 JSON 对象，确保格式正确：
        {"intent": "类别编号","key_entities": ["实体1", "实体2", ...]}
        其中：
          - `intent`：填写识别出的最主要意图类别编号（如“1”、“2”等）。
          - `key_entities`：填写从用户问题中抽取出的关键实体列表。请确保其清晰、简洁，能代表查询条件。
        
        # 示例
        | 用户问句 | 输出 |
        |----------|------|
        {示例表格行}

### 详解
- 角色:对该节点的功能抽象成一个角色。
- 类别编号与定义：这里要对场景下的用户问题进行抽象，总结出可能存在的规则，此模板按照markdown表格方式写入规则。
- 关键实体抽取规则：需要根据后续的python或其他节点入参标准构造抽取规则，这里的实体作为后续节点的入参，需搭配相关的解析程序使用。（飞书工作流传参机制仅允许输入每个节点return的完整内容）
- 示例：给出一些符合分类规则的case。

